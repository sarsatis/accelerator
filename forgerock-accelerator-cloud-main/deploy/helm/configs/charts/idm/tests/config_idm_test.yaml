suite: IDM ConfigMap tests
templates:
  - ../templates/configs-idm.yaml
tests:
  - it: Check deploy.yaml values
    values:
      - ../../../values.yaml

    asserts:
      - isKind:
          of: ConfigMap
      - isAPIVersion:
          of: v1
      - exists:
          path: data.CERT_ALIAS
      - isNotNullOrEmpty:
          path: data.CERT_ALIAS
      - exists:
          path: data.DS_REPO_BIND_DN
      - isNotNullOrEmpty:
          path: data.DS_REPO_BIND_DN
      - exists:
          path: data.DS_REPO_FQDN_PRIMARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_FQDN_PRIMARY
      - exists:
          path: data.DS_REPO_FQDN_SECONDARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_FQDN_SECONDARY
      - exists:
          path: data.DS_REPO_PORT_HTTP_PRIMARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_HTTP_PRIMARY
      - exists:
          path: data.DS_REPO_PORT_HTTP_SECONDARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_HTTP_SECONDARY
      - exists:
          path: data.DS_REPO_PORT_HTTPS_PRIMARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_HTTPS_PRIMARY
      - exists:
          path: data.DS_REPO_PORT_HTTPS_SECONDARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_HTTPS_SECONDARY
      - exists:
          path: data.DS_REPO_PORT_LDAP_PRIMARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_LDAP_PRIMARY
      - exists:
          path: data.DS_REPO_PORT_LDAP_SECONDARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_LDAP_SECONDARY
      - exists:
          path: data.DS_REPO_PORT_LDAPS_PRIMARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_LDAPS_PRIMARY
      - exists:
          path: data.DS_REPO_PORT_LDAPS_SECONDARY
      - isNotNullOrEmpty:
          path: data.DS_REPO_PORT_LDAPS_SECONDARY
      - exists:
          path: data.DS_REPO_REPO_SECURITY
      - isNotNullOrEmpty:
          path: data.DS_REPO_REPO_SECURITY
      - exists:
          path: data.ENV_TYPE
      - isNotNullOrEmpty:
          path: data.ENV_TYPE
      - exists:
          path: data.IDM_URI
      - isNotNullOrEmpty:
          path: data.IDM_URI
      - exists:
          path: data.LB_DOMAIN
      - isNotNullOrEmpty:
          path: data.LB_DOMAIN
      - exists:
          path: data.NAMESPACE
      - isNotNullOrEmpty:
          path: data.NAMESPACE
      - exists:
          path: data.POD_NAMESPACE
      - isNotNullOrEmpty:
          path: data.POD_NAMESPACE
      - exists:
          path: data.PORT_HTTP
      - isNotNullOrEmpty:
          path: data.PORT_HTTP
      - exists:
          path: data.PORT_HTTPS
      - isNotNullOrEmpty:
          path: data.PORT_HTTPS
      - exists:
          path: data.PORT_MUTUAL_AUTH
      - isNotNullOrEmpty:
          path: data.PORT_MUTUAL_AUTH
      - exists:
          path: data.PROFILE
      - isNotNullOrEmpty:
          path: data.PROFILE
      - exists:
          path: data.SECRETS_MANAGER_BASE_URL
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_BASE_URL
      - exists:
          path: data.SECRETS_MANAGER_PATH_APS
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_PATH_APS
      - exists:
          path: data.SECRETS_MANAGER_PATH_RS
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_PATH_RS
      - exists:
          path: data.SECRETS_MANAGER_PATH_TS
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_PATH_TS
      - exists:
          path: data.SECRETS_MANAGER_PATH_US
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_PATH_US
      - exists:
          path: data.SECRETS_MANAGER_TOKEN
      - isNotNullOrEmpty:
          path: data.SECRETS_MANAGER_TOKEN
      - exists:
          path: data.SECRETS_MODE
      - isNotNullOrEmpty:
          path: data.SECRETS_MODE
      - exists:
          path: data.UNAME_PROMETHEUS
      - isNotNullOrEmpty:
          path: data.UNAME_PROMETHEUS
   